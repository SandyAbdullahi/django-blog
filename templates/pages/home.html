{% extends 'base.html' %}

{% block content %}
{% load static %}
<div class="jumbotron jumbotron-fluid text-center">
 
    {% include "include/isometric.html" %}
    <h1 class="display-3 font-weight-bold">Ab Log</h1>
    <p class="lead font-weight-bold">Welcome to My <a href="https://www.djangoproject.com/" class="info-links"><span
          class="text-success">Django</span></a> Blog</p>
    <hr class="my-2">
    <p>You can create new posts bellow. However due to some of heroku's <a href="https://help.heroku.com/K1PPS2WM/why-are-my-file-uploads-missing-deleted" class="info-links"><span class="text-warning">RESTRICTIONS</span></a>, uploaded images
      will disappear within a few hours. The posts made by me are the static ones.</p>
    <p class="lead mb-5">
      <a class="btn btn-primary btn-lg" href="{% url 'new_post' %}" role="button">New Post</a>
    </p>

</div>
<div class="container">
  <h1 class="display-4 text-center">New Posts</h1>
  <hr>
  <div class="row">
    <div class="col-12 ">
      {% if posts %}
      {% for post in posts %}
          <div class="card mb-3 border-0 text-center">
            <img src="{{ post.get_photo_url }}" class="card-img-top img-thumbnail" alt="...">
            <div class="card-body">
              <h2 class="card-title font-weight-bold">{{ post.post_title }}</h2>
              <hr>
              <p class="card-text">{{ post.post_content|truncatechars:250 }}</p>
              <!-- <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p> -->
              <a href="post/{{ post.id }}/" class="btn btn-primary">Read More</a>
            </div>
          </div>
        </div>
      </div>
  {% endfor %}
  {% else %}

  <div class="p-5">
   
      <div class="container text-center">
        <h2 class="text-info">There are currently no new blog posts.</h2>
      </div>
 
  </div>
  

  {% endif %}

    <div class="container mt-5 static-post">
      <h1 class="display-4 text-center">Static Posts</h1>
      <hr>
      <div class="row">
        <div class="col-12 col-md-12">
              <div class="card mb-3 border-0 text-center">
                <img src="{% static 'img/django-logo-negative.png' %}" class="card-img-top img-thumbnail" alt="static_image">
                <div class="card-body">
                  <h2 class="card-title font-weight-bold">Why Django?</h2>
                  <hr>
                  <p class="card-text">So I chose to use Django v3.0 (The version doesn’t really matter). Django is an open-source framework used to handle back-end functionality of web based...</p>
                  <a href="{% url 'why_django' %}" class="btn btn-primary">Read More</a>
                </div>
              </div>
            </div>

            <div class="col-12 col-md-12">
              <div class="card mb-3 border-0 text-center">
                <img src="{% static 'img/Heroku_logo.png' %}" class="card-img-top img-thumbnail" alt="static_image">
                <div class="card-body">
                  <h2 class="card-title font-weight-bold">How to Deploy a Django App to Heroku.</h2>
                  <hr>
                  <p class="card-text">Deploying your django app to heroku can be quite daunting when you’re a beginner, especially when you don’t understand what some of the addons required (e.g. dj-database-url) do to help configure your app for Heroku...</p>
                  <a href="{% url 'deploy_django' %}" class="btn btn-primary">Read More</a>
                </div>
              </div>
            </div>
          </div>
    </div>


  </div>

  {% endblock  %}

